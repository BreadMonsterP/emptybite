<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âœ¨ Lost Realm Noir 2.0 | Discord Community</title>
    
    
    <meta property="og:title" content="âœ¨ Lost Realm Noir 2.0">
    <meta property="og:description" content="An exclusive community for visionary creators and gamers">
    <meta property="og:image" content="https://i.imgur.com/JOvBsgD.gif">
    <meta property="og:url" content="https://emptybite.com">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#8A2BE2">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Lost Realm Noir Banner">
    
    <!-- Preload Critical Assets -->
    <link rel="preload" href="https://i.imgur.com/JOvBsgD.gif" as="image">
    <link rel="preconnect" href="https://discord.com">
    
    <!-- Fail-Safe Critical CSS -->
    <style>
        :root {
            --discord-blurple: #8A2BE2;
            --discord-dark: #23272A;
            --discord-light: #99AAB5;
            --glow-effect: 0 0 15px rgba(138, 43, 226, 0.7);
        }
        
        /* Critical Above-the-Fold Styles */
        body {
            margin: 0;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            font-family: 'Whitney', 'Segoe UI', system-ui, -apple-system, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
            opacity: 0;
            animation: fadeIn 1s ease-out forwards;
            line-height: 1.6;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        .discord-embed-premium {
            background: rgba(35, 39, 42, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 14px;
            border-left: 5px solid var(--discord-blurple);
            max-width: 580px;
            width: 100%;
            padding: 25px;
            box-shadow: var(--glow-effect), 0 8px 32px rgba(0, 0, 0, 0.3);
            transform: scale(0.95);
            animation: scaleUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        @keyframes scaleUp {
            to { transform: scale(1); }
        }
    </style>
</head>
<body>
    <!-- Loading Barrier (Prevents FOUC) -->
    <div id="loading-barrier" style="position:fixed;top:0;left:0;right:0;bottom:0;background:#16182E;z-index:1000;display:flex;justify-content:center;align-items:center;flex-direction:column;">
        <div style="border:4px solid rgba(138, 43, 226, 0.2);border-top:4px solid var(--discord-blurple);border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite;margin-bottom:15px;"></div>
        <p style="color:var(--discord-light);font-weight:500;">Loading Lost Realm Noir...</p>
    </div>

    <!-- Premium Discord Card -->
    <div class="discord-embed-premium">
        <!-- Server Icon with Hover Effect -->
        <div class="server-icon-container" style="position:relative;display:inline-block;">
            <img src="https://i.imgur.com/JOvBsgD.gif" alt="Server Icon" 
                 class="server-icon" 
                 style="width:100px;height:100px;border-radius:50%;object-fit:cover;border:3px solid var(--discord-blurple);box-shadow:var(--glow-effect);transition:all 0.3s ease;">
            <div class="online-badge" style="position:absolute;bottom:5px;right:5px;width:20px;height:20px;background:#3BA55D;border-radius:50%;border:3px solid var(--discord-dark);"></div>
        </div>
        
        <!-- Server Info -->
        <h1 class="server-name" style="margin:15px 0 5px;font-size:28px;font-weight:700;background:linear-gradient(90deg, #8A2BE2, #FF7F50);-webkit-background-clip:text;-webkit-text-fill-color:transparent;">
            âœ¨ Lost Realm Noir 2.0
        </h1>
        
        <div class="server-description" style="color:var(--discord-light);margin-bottom:25px;font-size:16px;max-width:80%;margin-left:auto;margin-right:auto;">
            Join our server pwease uwu meow meow meow
        </div>
        
        <!-- Join Button with Hover Animation -->
        <a href="https://discord.com/invite/ks2AYkYeBc" class="join-button" 
           style="display:inline-block;background:var(--discord-blurple);color:white;padding:12px 24px;border-radius:6px;font-size:16px;font-weight:600;text-decoration:none;transition:all 0.3s ease;box-shadow:0 4px 6px rgba(0,0,0,0.1);margin-bottom:20px;"
           onmouseover="this.style.transform='translateY(-2px)';this.style.boxShadow='0 6px 12px rgba(138, 43, 226, 0.4)'"
           onmouseout="this.style.transform='translateY(0)';this.style.boxShadow='0 4px 6px rgba(0,0,0,0.1)'">
            ðŸš€ Join Now
        </a>
        
        <!-- Premium Stats Bar -->
        <div class="stats-container" style="display:flex;justify-content:center;gap:25px;margin-top:20px;">
            <div class="stat-box" style="text-align:center;">
                <div class="stat-value" id="memberCount" style="font-size:22px;font-weight:700;color:white;">--</div>
                <div class="stat-label" style="font-size:12px;color:var(--discord-light);text-transform:uppercase;letter-spacing:1px;">Members</div>
            </div>
            <div class="stat-box" style="text-align:center;">
                <div class="stat-value" style="font-size:22px;font-weight:700;color:white;">24/7</div>
                <div class="stat-label" style="font-size:12px;color:var(--discord-light);text-transform:uppercase;letter-spacing:1px;">Active</div>
            </div>
            <div class="stat-box" style="text-align:center;">
                <div class="stat-value" style="font-size:22px;font-weight:700;color:white;">10+</div>
                <div class="stat-label" style="font-size:12px;color:var(--discord-light);text-transform:uppercase;letter-spacing:1px;">Events</div>
            </div>
        </div>
        
        <!-- Real-Time Status -->
        <div id="api-status" style="margin-top:15px;font-size:12px;color:#43B581;display:flex;align-items:center;justify-content:center;gap:5px;">
            <div style="width:8px;height:8px;background:#43B581;border-radius:50%;"></div>
            <span>Connecting to Discord...</span>
        </div>
    </div>

    <!-- Non-Blocking JavaScript -->
    <script>
        // ===== STRESS-TESTED MEMBER COUNT =====
        const SERVER_ID = "1367732281707593848";
        const INVITE_CODE = "ks2AYkYeBc";
        const MAX_RETRIES = 3;
        let retryCount = 0;
        
        async function fetchMemberCount() {
            try {
                // Show loading state
                document.getElementById('api-status').innerHTML = `
                    <div style="width:8px;height:8px;background:#FAA61A;border-radius:50%;"></div>
                    <span>Updating member count...</span>
                `;
                
                // Use CORS proxy to avoid Discord rate limits
                const response = await fetch(`https://api.codetabs.com/v1/proxy/?quest=https://discord.com/api/v9/invites/${INVITE_CODE}?with_counts=true`);
                
                if (!response.ok) throw new Error(`HTTP ${response.status}`);
                
                const data = await response.json();
                
                if (data.approximate_member_count) {
                    const formattedCount = data.approximate_member_count.toLocaleString();
                    document.getElementById('memberCount').textContent = formattedCount;
                    document.getElementById('api-status').innerHTML = `
                        <div style="width:8px;height:8px;background:#43B581;border-radius:50%;"></div>
                        <span>Live â€¢ Updated ${new Date().toLocaleTimeString()}</span>
                    `;
                }
            } catch (error) {
                console.error("Member count fetch failed:", error);
                retryCount++;
                
                if (retryCount <= MAX_RETRIES) {
                    setTimeout(fetchMemberCount, 3000 * retryCount);
                    document.getElementById('api-status').innerHTML = `
                        <div style="width:8px;height:8px;background:#FAA61A;border-radius:50%;"></div>
                        <span>Retrying (${retryCount}/${MAX_RETRIES})...</span>
                    `;
                } else {
                    document.getElementById('api-status').innerHTML = `
                        <div style="width:8px;height:8px;background:#ED4245;border-radius:50%;"></div>
                        <span>Offline â€¢ Check back later</span>
                    `;
                }
            }
        }

        // ===== ENHANCED INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', () => {
            // Remove loading barrier
            document.getElementById('loading-barrier').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('loading-barrier').remove();
            }, 500);
            
            // Initial fetch
            fetchMemberCount();
            
            // Refresh every 5 minutes (Discord rate limits)
            setInterval(fetchMemberCount, 300000);
            
            // Fallback heartbeat (in case tab becomes inactive)
            document.addEventListener('visibilitychange', () => {
                if (!document.hidden) fetchMemberCount();
            });
        });

        // ===== NON-CRITICAL STYLES =====
        const style = document.createElement('style');
        style.textContent = `
            /* Hover Effects */
            .server-icon:hover {
                transform: rotate(5deg) scale(1.05);
                box-shadow: 0 0 25px rgba(138, 43, 226, 0.8);
            }
            
            /* Responsive Design */
            @media (max-width: 600px) {
                .discord-embed-premium {
                    padding: 20px;
                    max-width: 90%;
                }
                .server-icon {
                    width: 80px;
                    height: 80px;
                }
                .server-name {
                    font-size: 24px;
                }
                .stats-container {
                    gap: 15px;
                }
            }
            
            /* Animation for stats */
            .stat-value {
                transition: all 0.3s ease;
            }
            .stat-value:hover {
                color: var(--discord-blurple);
                transform: scale(1.1);
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
